<div class="shows-state">

  <div class="form">
    <div class="md-inline-form">
      <md-input-container ng-class="{ 'md-undefined-select': showsFilter.year === ''}">
        <label>Year</label>
        <md-select ng-model="showsFilter.year">
          <md-option value="">All</md-option>
          <md-divider></md-divider>
          <md-option ng-repeat="year in showYears">{{year}}</md-option>
        </md-select>
      </md-input-container>
      <md-datepicker ng-model="showsFilter.date" md-placeholder="Date"></md-datepicker>
      <md-input-container>
        <label>Venue</label>
        <!-- <input ng-model="showsFilter.venue" ng-model-options="{debounce: 250}"></input> -->
        <input ng-model="showsFilter.venue"></input>
      </md-input-container>
      <md-input-container>
        <label>Location</label>
        <input ng-model="showsFilter.location" ng-model-options="{debounce: 250}"></input>
      </md-input-container>
    </div>
  </div>

  <all-shows-per-season all-shows="shows.allShows" filtered-shows="shows.filteredShows"></all-shows-per-season>

  <md-list>
    <md-virtual-repeat-container>
      <md-list-item md-virtual-repeat='show in deferredShows' class='md-2-line' ng-click='null' ui-sref='mapLeft.show({date: show.date})' md-on-demand='' aria-label='goToShow' ng-mouseenter='showMap=true' ng-mouseleave='showMap=false'>

        <div class='md-list-item-text' layout='column'>
          <md-subheader ng-if='show.firstOfYear && !showsFilter.date' class="md-no-sticky">{{show.date | date:'yyyy'}}</md-subheader>
          <div class='show-info' layout='row' layout-align='space-between center'>
            <p flex='30'>{{show.date | date:'yyyy/MM/dd'}}</p>
            <p flex='45'>{{show.venue_name}}</p>
            <p flex='25'>{{show.location}}</p>
          </div>
        </div>

        <md-divider></md-divider>

      </md-list-item>
    </md-virtual-repeat-container>
  </md-list>

</div>